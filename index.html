<script>
  const video = document.getElementById('video');
  const result = document.getElementById('result');

  // Try to open back camera
  navigator.mediaDevices.getUserMedia({
    video: { facingMode: "environment" }
  })
  .then(stream => {
    video.srcObject = stream;
  })
  .catch(err => {
    console.warn("Back camera failed, using front:", err);
    // fallback to front camera
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(stream => { video.srcObject = stream; })
      .catch(error => alert("Camera access denied: " + error));
  });

  function startScan() {
    result.innerHTML = "ðŸ‘€ Scanning plate...";
    setTimeout(() => {
      result.innerHTML = `
        âœ… Detected: Dosa, Chutney, Sambar <br>
        ðŸ”¥ Calories: 263 kcal <br>
        ðŸ’ª Protein: 6 g <br>
        ðŸ¥— Tip: Great choice! Keep going!
      `;
    }, 3000);
  }
</script>
